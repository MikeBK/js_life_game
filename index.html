<!DOCTYPE html>
<html>
    <head>
        <title>js_life_game</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript" src="field.js"></script>
        <link rel="stylesheet" href="common.css"/>
    </head>
    <body>
        <canvas width='640' height='640' id='canvas2d'>Обновите браузер</canvas>
        <script>
            var canvas = document.getElementById("canvas2d");
            var ctx = canvas.getContext('2d');

//            var canvasPosition = {
//                x: canvas.offset().left,
//                y: canvas.offset().top
//            };
            function getCursorPosition(e) {
                var x;
                var y;
                if (e.pageX !== undefined && e.pageY !== undefined) {
                    x = e.pageX;
                    y = e.pageY;

                    alert(x + '-' + y);
                }
                else {
                    x = e.clientX + document.body.scrollLeft +
                            document.documentElement.scrollLeft;
                    y = e.clientY + document.body.scrollTop +
                            document.documentElement.scrollTop;
                }
            }

            canvas.addEventListener('click', function (event) {
                var mousePos = getCursorPosition(event);
//                var message = 'Позиция курсора мыши: ' + mousePos.x + ',' + mousePos.y;
//                alert(message);
            }, false);

            for (var x = 0.5; x <= Field.width * Field.pixelOnSide + 1;
                    x += Field.pixelOnSide) {
                ctx.moveTo(0, x);
                ctx.lineTo(Field.width * Field.pixelOnSide, x);
            }

            for (var y = 0.5; y < Field.height * Field.pixelOnSide + 1;
                    y += Field.pixelOnSide) {
                ctx.moveTo(y, 0);
                ctx.lineTo(y, Field.height * Field.pixelOnSide);
            }

            ctx.strokeStyle = "#000";
            ctx.stroke();

        </script>
    </body>
</html>
