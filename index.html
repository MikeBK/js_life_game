<!DOCTYPE html>
<html>
    <head>
        <title>js_life_game</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="common.css"/>
        <script type="text/javascript" src="canvas.js"></script>
        <script type="text/javascript" src="input.js"></script>
        <script type="text/javascript" src="field.js"></script>
        <script type="text/javascript" src="lifeGame.js"></script>
    </head>
    <body>
        <canvas class="gameField" width='640' height='640' id='canvas2d'>Обновите браузер</canvas>
        <div class="gameButton" id="gameButton" onclick="ChangeGameState()">StartGame</div>
        <script>

            Input.init();
            CanvasManager.init('canvas2d');
            Field.init();
            LifeGame.init();

            var gameButton = document.getElementById('gameButton');

            function ChangeGameState() {
                if (LifeGame.getStatus() === LifeGameSTATUS.FIELD_SET) {
                    LifeGame.starGame();
                    gameButton.innerHTML = 'StopGame';
                } else {
                    LifeGame.stopGame();
                    Field.drawGrid();
                    gameButton.innerHTML = 'StartGame';
                }
            }

            setInterval(LifeGame.main, 1000);

        </script>
    </body>
</html>
